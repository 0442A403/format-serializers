version: '3.8'
services:
  proxy:
    restart: unless-stopped
    networks: [serializers]
    image: 0442a403/hse:serializer-proxy
    build:
      dockerfile: proxy.Dockerfile
    ports: ["2000:2000"]

  json:
    restart: unless-stopped
    networks: [serializers]
    image: 0442a403/hse:serializer-json
    build:
      dockerfile: serializer.Dockerfile
      args:
        data_format: json

  yaml:
    restart: unless-stopped
    networks: [serializers]
    image: 0442a403/hse:serializer-yaml
    build:
      dockerfile: serializer.Dockerfile
      args:
        data_format: yaml

  xml:
    restart: unless-stopped
    networks: [serializers]
    image: 0442a403/hse:serializer-xml
    build:
      dockerfile: serializer.Dockerfile
      args:
        data_format: xml

  pickle:
    restart: unless-stopped
    networks: [serializers]
    image: 0442a403/hse:serializer-pickle
    build:
      dockerfile: serializer.Dockerfile
      args:
        data_format: pickle

  proto:
    restart: unless-stopped
    networks: [serializers]
    image: 0442a403/hse:serializer-proto
    build:
      dockerfile: serializer.Dockerfile
      args:
        data_format: proto

  avro:
    restart: unless-stopped
    networks: [serializers]
    image: 0442a403/hse:serializer-avro
    build:
      dockerfile: serializer.Dockerfile
      args:
        data_format: avro

  msgpack:
    restart: unless-stopped
    networks: [serializers]
    image: 0442a403/hse:serializer-msgpack
    build:
      dockerfile: serializer.Dockerfile
      args:
        data_format: msgpack

networks:
  serializers:
    name: serializers
