version: '3.8'
services:
  proxy:
    restart: unless-stopped
    networks: [serializers]
    build:
      dockerfile: docker/proxy.Dockerfile
    ports: ["5000:5000"]

  json:
    restart: unless-stopped
    networks: [serializers]
    build:
      dockerfile: docker/serializer.Dockerfile
      args:
        data_format: json

  yaml:
    restart: unless-stopped
    networks: [serializers]
    build:
      dockerfile: docker/serializer.Dockerfile
      args:
        data_format: yaml

  xml:
    restart: unless-stopped
    networks: [serializers]
    build:
      dockerfile: docker/serializer.Dockerfile
      args:
        data_format: xml

  pickle:
    restart: unless-stopped
    networks: [serializers]
    build:
      dockerfile: docker/serializer.Dockerfile
      args:
        data_format: pickle

  proto:
    restart: unless-stopped
    networks: [serializers]
    build:
      dockerfile: docker/serializer.Dockerfile
      args:
        data_format: proto

  avro:
    restart: unless-stopped
    networks: [serializers]
    build:
      dockerfile: docker/serializer.Dockerfile
      args:
        data_format: avro

  msgpack:
    restart: unless-stopped
    networks: [serializers]
    build:
      dockerfile: docker/serializer.Dockerfile
      args:
        data_format: msgpack

networks:
  serializers:
    name: serializers
